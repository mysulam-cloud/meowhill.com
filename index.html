<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MeowHill - Purr-fect Products for Your Cat</title>
    
    <!-- Favicon -->
    <link rel="icon" href="images/logo.jpg" type="image/jpeg">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Dark mode support */
        .dark {
            color-scheme: dark;
        }
        
        .hero-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -4px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #f59e0b;
            transition: width 0.3s ease;
        }
        
        .nav-link:hover::after {
            width: 100%;
        }
        
        .product-card:hover img {
            transform: scale(1.05);
        }
        
        .category-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        .cart-slide {
            transition: transform 0.3s ease-in-out;
        }
        
        .cart-open {
            transform: translateX(0);
        }
        
        .cart-closed {
            transform: translateX(100%);
        }
        
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .notification {
            transition: all 0.3s ease-in-out;
        }
        
        /* Dark mode styles */
        .dark body {
            background-color: #0f172a;
            color: #e2e8f0;
        }
        
        .dark .bg-white {
            background-color: #1e293b;
        }
        
        .dark .bg-slate-50 {
            background-color: #0f172a;
        }
        
        .dark .text-slate-900 {
            color: #e2e8f0;
        }
        
        .dark .text-slate-800 {
            color: #cbd5e1;
        }
        
        .dark .text-slate-600 {
            color: #94a3b8;
        }
        
        .dark .shadow-sm {
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-200">

    <!-- Header -->
    <header class="bg-white/80 dark:bg-slate-800/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <!-- Logo -->
                <a href="#" class="flex items-center text-2xl font-bold text-slate-900 dark:text-white">
                    <!-- Updated Logo -->
                    <img src="images/logo.jpg" alt="MeowHill Logo" class="h-12 w-auto">
                </a>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" onclick="scrollToSection('home')" class="nav-link text-slate-600 dark:text-slate-300 hover:text-amber-500">Home</a>
                    <a href="#" onclick="scrollToSection('products')" class="nav-link text-slate-600 dark:text-slate-300 hover:text-amber-500">Products</a>
                    <a href="#" onclick="scrollToSection('categories')" class="nav-link text-slate-600 dark:text-slate-300 hover:text-amber-500">Categories</a>
                    <a href="#" onclick="scrollToSection('about')" class="nav-link text-slate-600 dark:text-slate-300 hover:text-amber-500">About</a>
                </div>

                <!-- Search Bar -->
                <div class="hidden lg:flex items-center flex-1 max-w-md mx-8">
                    <div class="relative w-full">
                        <input 
                            type="text" 
                            id="searchInput" 
                            placeholder="Search products..." 
                            class="w-full text-base px-4 py-2 pl-10 pr-4 border border-slate-300 dark:border-slate-600 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white"
                            oninput="searchProducts(this.value)"
                        >
                        <svg class="absolute left-3 top-2.5 h-5 w-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                        </svg>
                    </div>
                </div>

                <!-- Icons -->
                <div class="flex items-center space-x-5">
                    <button onclick="toggleWishlist()" class="relative text-slate-600 dark:text-slate-300 hover:text-amber-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                        </svg>
                        <span id="wishlistCount" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </button>
                    
                    <button onclick="toggleCart()" class="relative text-slate-600 dark:text-slate-300 hover:text-amber-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="9" cy="21" r="1"></circle>
                            <circle cx="20" cy="21" r="1"></circle>
                            <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                        </svg>
                        <span id="cartCount" class="absolute -top-2 -right-2 bg-amber-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                    </button>
                    
                    <!-- Mobile Menu Button -->
                    <button id="mobile-menu-button" class="md:hidden text-slate-600 dark:text-slate-300 hover:text-amber-500">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <line x1="4" x2="20" y1="12" y2="12"/>
                            <line x1="4" x2="20" y1="6" y2="6"/>
                            <line x1="4" x2="20" y1="18" y2="18"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Mobile Navigation -->
            <div id="mobile-menu" class="hidden md:hidden mt-4">
                <a href="#" onclick="scrollToSection('home')" class="block py-2 px-4 text-sm text-slate-600 dark:text-slate-300 hover:bg-amber-100 dark:hover:bg-slate-700 rounded">Home</a>
                <a href="#" onclick="scrollToSection('products')" class="block py-2 px-4 text-sm text-slate-600 dark:text-slate-300 hover:bg-amber-100 dark:hover:bg-slate-700 rounded">Products</a>
                <a href="#" onclick="scrollToSection('categories')" class="block py-2 px-4 text-sm text-slate-600 dark:text-slate-300 hover:bg-amber-100 dark:hover:bg-slate-700 rounded">Categories</a>
                <a href="#" onclick="scrollToSection('about')" class="block py-2 px-4 text-sm text-slate-600 dark:text-slate-300 hover:bg-amber-100 dark:hover:bg-slate-700 rounded">About</a>
                
                <!-- Mobile Search -->
                <div class="px-4 py-2">
                    <input 
                        type="text" 
                        placeholder="Search products..." 
                        class="w-full text-base px-4 py-2 border border-slate-300 dark:border-slate-600 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white"
                        oninput="searchProducts(this.value)"
                    >
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="home" class="hero-bg relative h-[60vh] min-h-[400px] flex items-center">
            <div class="absolute inset-0 bg-black/30"></div>
            <div class="container mx-auto px-6 relative text-white text-center">
                <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4 fade-in">Purr-fect Products for Your Feline Friend</h1>
                <p class="text-lg md:text-xl text-slate-200 mb-8 max-w-3xl mx-auto fade-in">Quality toys, nutritious food, and cozy beds to make your cat happy, healthy, and endlessly entertained.</p>
                <button onclick="scrollToSection('products')" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded-full text-lg transition duration-300 fade-in">Shop All Products</button>
            </div>
        </section>

        <!-- Featured Products Section -->
        <section id="products" class="py-16 sm:py-24 bg-white dark:bg-slate-800">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-slate-900 dark:text-white mb-2">Our Fan Favorites</h2>
                <p class="text-center text-slate-500 dark:text-slate-400 mb-8">The products our customers (and their cats) can't stop raving about.</p>
                
                <!-- Filter Buttons -->
                <div class="flex flex-wrap justify-center gap-2 mb-12">
                    <button onclick="filterProducts('all')" class="filter-btn bg-amber-500 text-white px-4 py-2 rounded-full text-sm font-medium transition duration-300">All</button>
                    <button onclick="filterProducts('toys')" class="filter-btn bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-4 py-2 rounded-full text-sm font-medium transition duration-300 hover:bg-amber-500 hover:text-white">Toys</button>
                    <button onclick="filterProducts('beds')" class="filter-btn bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-4 py-2 rounded-full text-sm font-medium transition duration-300 hover:bg-amber-500 hover:text-white">Beds</button>
                    <button onclick="filterProducts('scratchers')" class="filter-btn bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-4 py-2 rounded-full text-sm font-medium transition duration-300 hover:bg-amber-500 hover:text-white">Scratchers</button>
                </div>
                
                <div id="productsGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Products will be loaded here -->
                </div>
            </div>
        </section>

        <!-- Categories Section -->
        <section id="categories" class="py-16 sm:py-24">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center text-slate-900 dark:text-white mb-2">Shop by Category</h2>
                <p class="text-center text-slate-500 dark:text-slate-400 mb-12">Find exactly what you're looking for.</p>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                    <button onclick="filterProducts('toys')" class="category-card block bg-white dark:bg-slate-800 p-8 rounded-xl shadow-sm text-center">
                        <div class="flex items-center justify-center h-12 w-12 bg-amber-100 dark:bg-amber-900/30 rounded-full mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-600">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M8 12l2 2 4-4"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-slate-800 dark:text-slate-200">Toys</h3>
                    </button>
                    
                    <button onclick="filterProducts('food')" class="category-card block bg-white dark:bg-slate-800 p-8 rounded-xl shadow-sm text-center">
                        <div class="flex items-center justify-center h-12 w-12 bg-sky-100 dark:bg-sky-900/30 rounded-full mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-sky-600">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
                                <polyline points="22 4 12 14.01 9 11.01"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-slate-800 dark:text-slate-200">Food & Treats</h3>
                    </button>
                    
                    <button onclick="filterProducts('beds')" class="category-card block bg-white dark:bg-slate-800 p-8 rounded-xl shadow-sm text-center">
                        <div class="flex items-center justify-center h-12 w-12 bg-rose-100 dark:bg-rose-900/30 rounded-full mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-rose-600">
                                <path d="M12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8Z"/>
                                <path d="M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-slate-800 dark:text-slate-200">Beds & Furniture</h3>
                    </button>
                    
                    <button onclick="filterProducts('scratchers')" class="category-card block bg-white dark:bg-slate-800 p-8 rounded-xl shadow-sm text-center">
                        <div class="flex items-center justify-center h-12 w-12 bg-lime-100 dark:bg-lime-900/30 rounded-full mx-auto mb-4">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-lime-600">
                                <path d="M12 20v-8m0 0V4m0 8h8m-8 0H4"/>
                            </svg>
                        </div>
                        <h3 class="text-xl font-semibold text-slate-800 dark:text-slate-200">Scratchers</h3>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Why Choose Us Section -->
        <section id="about" class="py-16 sm:py-24 bg-white dark:bg-slate-800">
            <div class="container mx-auto px-6">
                <div class="max-w-4xl mx-auto">
                    <h2 class="text-3xl font-bold text-center text-slate-900 dark:text-white mb-12">Happiness, Delivered.</h2>
                    <div class="grid md:grid-cols-3 gap-12 text-center">
                        <div class="flex flex-col items-center">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-500">
                                    <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/>
                                    <path d="m9 12 2 2 4-4"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2 dark:text-white">Vet-Approved Quality</h3>
                            <p class="text-slate-500 dark:text-slate-400">Every product is selected for its safety, durability, and cat-friendly design.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-500">
                                    <rect x="1" y="3" width="15" height="13" rx="2"/>
                                    <path d="M21 8h-2a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h2"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2 dark:text-white">Fast & Free Shipping</h3>
                            <p class="text-slate-500 dark:text-slate-400">Get your goodies delivered right to your doorstep, free on orders over $50.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-slate-100 dark:bg-slate-700 mb-4">
                                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-amber-500">
                                    <path d="M7 10h10"/>
                                    <path d="M10 14h4"/>
                                    <path d="M10.3 2.1a1 1 0 0 1 3.4 0L15 3l4 4-1 3v6c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2v-6l-1-3 4-4 1.3-1.9Z"/>
                                </svg>
                            </div>
                            <h3 class="text-xl font-semibold mb-2 dark:text-white">Happy Cat Guarantee</h3>
                            <p class="text-slate-500 dark:text-slate-400">If your cat isn't thrilled, we'll make it right. It's our promise to you.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Newsletter Signup -->
        <section class="bg-amber-400">
            <div class="container mx-auto px-6 py-16">
                <div class="md:flex md:items-center md:justify-between">
                    <div class="mb-6 md:mb-0">
                        <h2 class="text-3xl font-bold text-white">Join the MeowHill Family</h2>
                        <p class="text-amber-100">Get 10% off your first order and updates on new products!</p>
                    </div>
                    <form id="newsletterForm" class="flex flex-col sm:flex-row gap-3" onsubmit="handleNewsletterSignup(event)">
                        <input 
                            type="email" 
                            id="emailInput" 
                            placeholder="Enter your email" 
                            class="w-full sm:w-80 text-base px-4 py-3 rounded-md border-0 focus:ring-2 focus:ring-white" 
                            required
                        >
                        <button type="submit" class="bg-slate-800 text-white font-semibold py-3 px-6 rounded-md hover:bg-slate-900 transition duration-300">Subscribe</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-slate-300">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div class="col-span-1 md:col-span-1">
                    <h3 class="text-lg font-semibold text-white mb-4">MeowHill</h3>
                    <p class="text-slate-400">Dedicated to providing the best products to enrich the lives of cats and their humans.</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-white mb-4">Shop</h3>
                    <ul class="space-y-2">
                        <li><button onclick="filterProducts('toys')" class="text-slate-400 hover:text-amber-400">Toys</button></li>
                        <li><button onclick="filterProducts('food')" class="text-slate-400 hover:text-amber-400">Food & Treats</button></li>
                        <li><button onclick="filterProducts('beds')" class="text-slate-400 hover:text-amber-400">Beds & Furniture</button></li>
                        <li><button onclick="filterProducts('scratchers')" class="text-slate-400 hover:text-amber-400">Scratchers</button></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-white mb-4">Support</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-slate-400 hover:text-amber-400">Contact Us</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-amber-400">FAQ</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-amber-400">Shipping & Returns</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-amber-400">Privacy Policy</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-white mb-4">Follow Us</h3>
                    <div class="flex space-x-4">
                        <a href="#" class="text-slate-400 hover:text-amber-400">
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.85s-.011 3.584-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.252-.148-4.771-1.691-4.919-4.919-.058-1.265-.069-1.645-.069-4.85s.011-3.584.069-4.85c.149-3.225 1.664-4.771 4.919-4.919C8.416 2.175 8.796 2.163 12 2.163m0-2.163C8.74 0 8.333.011 7.053.069 2.59.215 0 2.59 0 7.053c-.058 1.281-.069 1.688-.069 4.947s.011 3.666.069 4.947c.215 4.46 2.59 6.834 7.053 6.991 1.28.058 1.688.069 4.947.069s3.666-.011 4.947-.069c4.46-.215 6.834-2.59 6.991-7.053.058-1.281.069-1.688.069-4.947s-.011-3.666-.069-4.947c-.215-4.46-2.59-6.834-7.053-6.991C15.667.011 15.26 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.88 1.44 1.44 0 000-2.88z"/>
                            </svg>
                        </a>
                        <a href="#" class="text-slate-400 hover:text-amber-400">
                            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.298 1.581 4.456 3.946 4.934-.412.111-.849.171-1.296.171-.317 0-.626-.031-.927-.088.627 1.956 2.445 3.379 4.6 3.42-1.685 1.32-3.809 2.105-6.115 2.105-.398 0-.79-.023-1.175-.068 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="mt-8 pt-8 border-t border-slate-700 text-center text-slate-500">
                &copy; 2024 MeowHill. All Rights Reserved.
            </div>
        </div>
    </footer>

    <!-- Cart Sidebar -->
    <div id="cartSidebar" class="fixed top-0 right-0 h-full w-96 max-w-full bg-white dark:bg-slate-800 shadow-xl z-50 cart-slide cart-closed">
        <div class="flex flex-col h-full">
            <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700">
                <h2 class="text-xl font-semibold text-slate-900 dark:text-white">Your Cart</h2>
                <button onclick="toggleCart()" class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div id="cartItems" class="flex-1 overflow-y-auto p-6">
                <p class="text-slate-500 dark:text-slate-400 text-center">Your cart is empty</p>
            </div>
            
            <div id="cartFooter" class="border-t border-slate-200 dark:border-slate-700 p-6 hidden">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-lg font-semibold text-slate-900 dark:text-white">Total:</span>
                    <span id="cartTotal" class="text-lg font-bold text-amber-600">$0.00</span>
                </div>
                <button class="w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-lg transition duration-300" onclick="checkout()">
                    Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div id="productModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white dark:bg-slate-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4">
                    <h2 id="modalTitle" class="text-2xl font-bold text-slate-900 dark:text-white"></h2>
                    <button onclick="closeModal()" class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <!-- Main Image -->
                        <img id="modalImage" src="" alt="" class="w-full h-64 object-cover rounded-lg mb-3">

                        <!-- Image Gallery Thumbnails -->
                        <div id="imageGallery" class="flex gap-2 justify-center">
                            <!-- Thumbnail images will be inserted here -->
                        </div>
                    </div>
                    <div>
                        <p id="modalDescription" class="text-slate-600 dark:text-slate-400 mb-4"></p>
                        <div class="flex items-center gap-4 mb-4">
                            <span id="modalPrice" class="text-2xl font-bold text-slate-900 dark:text-white"></span>
                            <span id="modalOriginalPrice" class="text-lg text-slate-400 line-through hidden"></span>
                        </div>
                        
                        <div class="flex items-center gap-4 mb-6">
                            <label class="text-sm font-medium text-slate-700 dark:text-slate-300">Quantity:</label>
                            <div class="flex items-center border border-slate-300 dark:border-slate-600 rounded">
                                <button onclick="decreaseQuantity()" class="px-3 py-1 hover:bg-slate-100 dark:hover:bg-slate-700">-</button>
                                <input id="quantityInput" type="number" value="1" min="1" class="w-16 text-center border-0 focus:outline-none dark:bg-slate-800">
                                <button onclick="increaseQuantity()" class="px-3 py-1 hover:bg-slate-100 dark:hover:bg-slate-700">+</button>
                            </div>
                        </div>
                        
                        <div class="flex gap-3">
                            <button onclick="addToWishlistFromModal()" class="flex-1 bg-red-100 text-red-600 hover:bg-red-200 font-semibold py-3 rounded-lg transition duration-300 flex items-center justify-center gap-2">
                                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                                </svg>
                                Wishlist
                            </button>
                            <button id="modalAddToCart" onclick="addToCartFromModal()" class="flex-1 bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-lg transition duration-300">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Wishlist Sidebar -->
    <div id="wishlistSidebar" class="fixed top-0 right-0 h-full w-96 max-w-full bg-white dark:bg-slate-800 shadow-xl z-50 cart-slide cart-closed">
        <div class="flex flex-col h-full">
            <div class="flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700">
                <h2 class="text-xl font-semibold text-slate-900 dark:text-white">Your Wishlist</h2>
                <button onclick="toggleWishlist()" class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                    </svg>
                </button>
            </div>
            
            <div id="wishlistItems" class="flex-1 overflow-y-auto p-6">
                <p class="text-slate-500 dark:text-slate-400 text-center">Your wishlist is empty</p>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkoutModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white dark:bg-slate-800 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto">
            <div class="p-6">
                <div class="flex justify-between items-start mb-6">
                    <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Checkout</h2>
                    <button onclick="closeCheckout()" class="text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200">
                        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
                
                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Order Summary -->
                    <div class="order-2 lg:order-1">
                        <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Order Summary</h3>
                        <div id="checkoutItems" class="space-y-4 mb-6">
                            <!-- Cart items will be displayed here -->
                        </div>
                        
                        <div class="border-t border-slate-200 dark:border-slate-700 pt-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-slate-600 dark:text-slate-400">Subtotal:</span>
                                <span id="checkoutSubtotal" class="font-medium">$0.00</span>
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-slate-600 dark:text-slate-400">Shipping:</span>
                                <span id="checkoutShipping" class="font-medium">FREE</span>
                            </div>
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-slate-600 dark:text-slate-400">Tax:</span>
                                <span id="checkoutTax" class="font-medium">$0.00</span>
                            </div>
                            <div class="flex justify-between items-center text-lg font-bold border-t border-slate-200 dark:border-slate-700 pt-4">
                                <span>Total:</span>
                                <span id="checkoutTotal" class="text-amber-600">$0.00</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Checkout Form -->
                    <div class="order-1 lg:order-2">
                        <form id="checkoutForm" onsubmit="processPayment(event)">
                            <!-- Shipping Information -->
                            <div class="mb-8">
                                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Shipping Information</h3>
                                <div class="grid grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">First Name</label>
                                        <input type="text" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Last Name</label>
                                        <input type="text" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Email Address</label>
                                    <input type="email" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                </div>
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Street Address</label>
                                    <input type="text" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                </div>
                                <div class="grid grid-cols-3 gap-4 mb-4">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">City</label>
                                        <input type="text" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">State</label>
                                        <select required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                            <option value="">Select State</option>
                                            <option value="CA">California</option>
                                            <option value="NY">New York</option>
                                            <option value="TX">Texas</option>
                                            <option value="FL">Florida</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">ZIP Code</label>
                                        <input type="text" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Payment Information -->
                            <div class="mb-8">
                                <h3 class="text-lg font-semibold text-slate-900 dark:text-white mb-4">Payment Information</h3>
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Card Number</label>
                                    <input type="text" placeholder="1234 5678 9012 3456" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                </div>
                                <div class="grid grid-cols-2 gap-4 mb-4">
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Expiry Date</label>
                                        <input type="text" placeholder="MM/YY" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">CVV</label>
                                        <input type="text" placeholder="123" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                    </div>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Cardholder Name</label>
                                    <input type="text" required class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white">
                                </div>
                            </div>
                            
                            <!-- Order Notes -->
                            <div class="mb-6">
                                <label class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2">Order Notes (Optional)</label>
                                <textarea rows="3" class="w-full text-base px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-md focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-slate-700 dark:text-white" placeholder="Special instructions for delivery..."></textarea>
                            </div>
                            
                            <button type="submit" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-semibold py-3 rounded-lg transition duration-300">
                                Complete Order
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 hidden notification">
        <p id="notificationText"></p>
    </div>

    <script>
        // Dark mode support
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        // Product data - Cat Tree with Laser Toy
        const products = [
            {
                id: 1,
                name: "Ultimate Cat Tree with Laser Toy",
                price: 149.99,
                originalPrice: 199.99,
                category: "beds", // Updated from "furniture" to match filter "beds"
                image: "images/cat-tree-full.png", // Full tree
                images: [
                    "images/cat-tree-full.png", // Full tree
                    "images/cat-tree-cubby.png", // Cat in cubby
                    "images/cat-tree-laser.png"  // Cat with laser
                ],
                description: "The ultimate entertainment center for your feline friend! This 5-foot tall cat tree features multiple perches, cozy hideouts, sisal scratching posts, and an integrated automatic laser toy that keeps your cat engaged even when you're away.",
                features: [
                    "5-foot tall multi-level design",
                    "Built-in automatic laser toy with timer",
                    "3 plush sleeping perches",
                    "2 cozy hideout caves",
                    "Sisal rope scratching posts",
                    "Dangling feather toys",
                    "Non-slip base for stability",
                    "Easy assembly with included tools"
                ],
                specifications: {
                    height: "60 inches",
                    baseSize: "24 x 18 inches",
                    weight: "45 lbs",
                    maxCatWeight: "15 lbs per perch",
                    materials: "Particle board, sisal rope, plush fabric",
                    powerSource: "4 AA batteries (laser toy)"
                },
                inStock: 12,
                rating: 4.8,
                reviews: 127,
                sale: true,
                isNew: false
            }
        ];

        // Cart and wishlist functionality
        let cart = [];
        let wishlist = [];
        let currentProduct = null;

        function renderProducts(productsToRender = products) {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            
            productsToRender.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card bg-slate-50 dark:bg-slate-700 rounded-lg overflow-hidden shadow-sm group cursor-pointer';
                productCard.onclick = () => openProductModal(product);
                
                productCard.innerHTML = `
                    <div class="relative overflow-hidden">
                        <img src="${product.image}" alt="${product.name}" class="w-full h-64 object-cover transition-transform duration-300 ease-in-out">
                        ${product.sale ? '<span class="absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded-full">SALE</span>' : ''}
                        ${product.isNew ? '<span class="absolute top-3 left-3 bg-emerald-500 text-white text-xs font-semibold px-2 py-1 rounded-full">NEW</span>' : ''}
                    </div>
                    <div class="p-5">
                        <h3 class="text-lg font-semibold text-slate-800 dark:text-slate-200 mb-1">${product.name}</h3>
                        <p class="text-slate-500 dark:text-slate-400 mb-3">${product.description.substring(0, 50)}...</p>
                        <div class="flex items-center justify-between">
                            <span class="text-xl font-bold text-slate-900 dark:text-white">
                                $${product.price}
                                ${product.originalPrice ? `<span class="text-sm font-normal text-slate-400 line-through ml-2">$${product.originalPrice}</span>` : ''}
                            </span>
                            <button onclick="event.stopPropagation(); addToCart(${product.id})" class="bg-amber-200 text-amber-800 hover:bg-amber-300 font-semibold px-4 py-2 rounded-full text-sm transition duration-300">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                `;
                
                grid.appendChild(productCard);
            });
        }

        function filterProducts(category) {
            const filteredProducts = category === 'all' ? products : products.filter(p => p.category === category);
            renderProducts(filteredProducts);
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.className = 'filter-btn bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 px-4 py-2 rounded-full text-sm font-medium transition duration-300 hover:bg-amber-500 hover:text-white';
            });
            
            event.target.className = 'filter-btn bg-amber-500 text-white px-4 py-2 rounded-full text-sm font-medium transition duration-300';
            
            // Scroll to products section
            scrollToSection('products');
        }

        function searchProducts(query) {
            if (!query.trim()) {
                renderProducts();
                return;
            }
            
            const filteredProducts = products.filter(product => 
                product.name.toLowerCase().includes(query.toLowerCase()) ||
                product.description.toLowerCase().includes(query.toLowerCase()) ||
                product.category.toLowerCase().includes(query.toLowerCase())
            );
            
            renderProducts(filteredProducts);
        }

        function addToCart(productId, quantity = 1) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({...product, quantity});
            }
            
            updateCartUI();
            showNotification(`${product.name} added to cart!`);
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
        }

        function updateCartQuantity(productId, quantity) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                if (quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    item.quantity = quantity;
                    updateCartUI();
                }
            }
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartTotal = document.getElementById('cartTotal');
            const cartFooter = document.getElementById('cartFooter');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartCount.textContent = totalItems;
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<p class="text-slate-500 dark:text-slate-400 text-center">Your cart is empty</p>';
                cartFooter.classList.add('hidden');
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex items-center gap-4 py-4 border-b border-slate-200 dark:border-slate-700 last:border-b-0">
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded">
                        <div class="flex-1">
                            <h4 class="font-medium text-slate-900 dark:text-white">${item.name}</h4>
                            <p class="text-slate-500 dark:text-slate-400">$${item.price}</p>
                        </div>
                        <div class="flex items-center gap-2">
                            <button onclick="updateCartQuantity(${item.id}, ${item.quantity - 1})" class="w-8 h-8 flex items-center justify-center border border-slate-300 dark:border-slate-600 rounded">-</button>
                            <span class="w-8 text-center">${item.quantity}</span>
                            <button onclick="updateCartQuantity(${item.id}, ${item.quantity + 1})" class="w-8 h-8 flex items-center justify-center border border-slate-300 dark:border-slate-600 rounded">+</button>
                        </div>
                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700">
                            <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
                            </svg>
                        </button>
                    </div>
                `).join('');
                
                cartTotal.textContent = `$${totalPrice.toFixed(2)}`;
                cartFooter.classList.remove('hidden');
            }
        }

        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.toggle('cart-open');
            cartSidebar.classList.toggle('cart-closed');
        }

        function openProductModal(product) {
            currentProduct = product;

            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalImage').src = product.image;
            document.getElementById('modalImage').alt = product.name;
            document.getElementById('modalDescription').textContent = product.description;
            document.getElementById('modalPrice').textContent = `$${product.price}`;

            // Populate image gallery
            const imageGallery = document.getElementById('imageGallery');
            if (product.images && product.images.length > 1) {
                imageGallery.innerHTML = product.images.map((img, index) => `
                    <img
                        src="${img}"
                        alt="${product.name} - Image ${index + 1}"
                        class="w-16 h-16 object-cover rounded cursor-pointer border-2 ${img === product.image ? 'border-amber-500' : 'border-slate-300 dark:border-slate-600'} hover:border-amber-400 transition-all"
                        onclick="changeMainImage('${img}')"
                    >
                `).join('');
            } else {
                imageGallery.innerHTML = '';
            }

            const originalPriceEl = document.getElementById('modalOriginalPrice');
            if (product.originalPrice) {
                originalPriceEl.textContent = `$${product.originalPrice}`;
                originalPriceEl.classList.remove('hidden');
            } else {
                originalPriceEl.classList.add('hidden');
            }

            document.getElementById('quantityInput').value = 1;
            document.getElementById('productModal').classList.remove('hidden');
        }

        function changeMainImage(imageSrc) {
            document.getElementById('modalImage').src = imageSrc;

            // Update thumbnail borders
            document.querySelectorAll('#imageGallery img').forEach(thumb => {
                if (thumb.src.includes(imageSrc.split('/').pop())) {
                    thumb.className = 'w-16 h-16 object-cover rounded cursor-pointer border-2 border-amber-500 transition-all';
                } else {
                    thumb.className = 'w-16 h-16 object-cover rounded cursor-pointer border-2 border-slate-300 dark:border-slate-600 hover:border-amber-400 transition-all';
                }
            });
        }

        function closeModal() {
            document.getElementById('productModal').classList.add('hidden');
            currentProduct = null;
        }

        function increaseQuantity() {
            const input = document.getElementById('quantityInput');
            input.value = parseInt(input.value) + 1;
        }

        function decreaseQuantity() {
            const input = document.getElementById('quantityInput');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }

        function addToCartFromModal() {
            if (currentProduct) {
                const quantity = parseInt(document.getElementById('quantityInput').value);
                addToCart(currentProduct.id, quantity);
                closeModal();
            }
        }

        function addToWishlistFromModal() {
            if (currentProduct) {
                addToWishlist(currentProduct.id);
                closeModal();
            }
        }

        // Wishlist functionality
        function addToWishlist(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = wishlist.find(item => item.id === productId);
            
            if (!existingItem) {
                wishlist.push(product);
                updateWishlistUI();
                showNotification(`${product.name} added to wishlist!`);
            } else {
                showNotification(`${product.name} is already in your wishlist!`);
            }
        }

        function removeFromWishlist(productId) {
            wishlist = wishlist.filter(item => item.id !== productId);
            updateWishlistUI();
        }

        function updateWishlistUI() {
            const wishlistCount = document.getElementById('wishlistCount');
            const wishlistItems = document.getElementById('wishlistItems');
            
            wishlistCount.textContent = wishlist.length;
            
            if (wishlist.length === 0) {
                wishlistItems.innerHTML = '<p class="text-slate-500 dark:text-slate-400 text-center">Your wishlist is empty</p>';
            } else {
                wishlistItems.innerHTML = wishlist.map(item => `
                    <div class="flex items-center gap-4 py-4 border-b border-slate-200 dark:border-slate-700 last:border-b-0">
                        <img src="${item.image}" alt="${item.name}" class="w-16 h-16 object-cover rounded">
                        <div class="flex-1">
                            <h4 class="font-medium text-slate-900 dark:text-white">${item.name}</h4>
                            <p class="text-slate-500 dark:text-slate-400">$${item.price}</p>
                        </div>
                        <div class="flex flex-col gap-2">
                            <button onclick="addToCart(${item.id})" class="bg-amber-500 text-white px-3 py-1 rounded text-sm hover:bg-amber-600">
                                Add to Cart
                            </button>
                            <button onclick="removeFromWishlist(${item.id})" class="text-red-500 hover:text-red-700 text-sm">
                                Remove
                            </button>
                        </div>
                    </div>
                `).join('');
            }
        }

        function toggleWishlist() {
            const wishlistSidebar = document.getElementById('wishlistSidebar');
            wishlistSidebar.classList.toggle('cart-open');
            wishlistSidebar.classList.toggle('cart-closed');
        }

        // Checkout functionality
        function checkout() {
            if (cart.length === 0) return;
            
            // Hide cart and show checkout modal
            const cartSidebar = document.getElementById('cartSidebar');
            cartSidebar.classList.add('cart-closed');
            cartSidebar.classList.remove('cart-open');
            
            // Update checkout modal with cart items
            updateCheckoutModal();
            
            document.getElementById('checkoutModal').classList.remove('hidden');
        }

        function updateCheckoutModal() {
            const checkoutItems = document.getElementById('checkoutItems');
            const checkoutSubtotal = document.getElementById('checkoutSubtotal');
            const checkoutShipping = document.getElementById('checkoutShipping');
            const checkoutTax = document.getElementById('checkoutTax');
            const checkoutTotal = document.getElementById('checkoutTotal');
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = subtotal >= 50 ? 0 : 9.99;
            const tax = subtotal * 0.08; // 8% tax
            const total = subtotal + shipping + tax;
            
            checkoutItems.innerHTML = cart.map(item => `
                <div class="flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-700 rounded-lg">
                    <img src="${item.image}" alt="${item.name}" class="w-12 h-12 object-cover rounded">
                    <div class="flex-1">
                        <h4 class="font-medium text-slate-900 dark:text-white">${item.name}</h4>
                        <p class="text-slate-500 dark:text-slate-400">Qty: ${item.quantity}</p>
                    </div>
                    <span class="font-medium text-slate-900 dark:text-white">$${(item.price * item.quantity).toFixed(2)}</span>
                </div>
            `).join('');
            
            checkoutSubtotal.textContent = `$${subtotal.toFixed(2)}`;
            checkoutShipping.textContent = shipping === 0 ? 'FREE' : `$${shipping.toFixed(2)}`;
            checkoutTax.textContent = `$${tax.toFixed(2)}`;
            checkoutTotal.textContent = `$${total.toFixed(2)}`;
        }

        function closeCheckout() {
            document.getElementById('checkoutModal').classList.add('hidden');
        }

        function processPayment(event) {
            event.preventDefault();
            
            // Simulate payment processing
            showNotification('Processing payment...');
            
            setTimeout(() => {
                // Clear cart and close modal
                cart = [];
                updateCartUI();
                closeCheckout();
                
                // Show success message
                showSuccessModal();
            }, 2000);
        }

        function showSuccessModal() {
            const successModal = document.createElement('div');
            successModal.className = 'fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4';
            successModal.innerHTML = `
                <div class="bg-white dark:bg-slate-800 rounded-lg max-w-md w-full p-8 text-center">
                    <div class="w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                    </div>
                    <h3 class="text-2xl font-bold text-slate-900 dark:text-white mb-2">Order Confirmed!</h3>
                    <p class="text-slate-600 dark:text-slate-400 mb-6">Thank you for your purchase. Your order has been confirmed and will be shipped within 2-3 business days.</p>
                    <p class="text-sm text-slate-500 dark:text-slate-400 mb-6">Order #MH-${Date.now().toString().slice(-6)}</p>
                    <button onclick="this.closest('.fixed').remove()" class="bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-6 rounded-lg transition duration-300">
                        Continue Shopping
                    </button>
                </div>
            `;
            
            document.body.appendChild(successModal);
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.classList.remove('hidden');
            
            setTimeout(() => {
                notification.classList.add('hidden');
            }, 3000);
        }

        function handleNewsletterSignup(event) {
            event.preventDefault();
            const email = document.getElementById('emailInput').value;
            
            if (email) {
                showNotification('Thank you for subscribing! Check your email for a 10% off coupon.');
                document.getElementById('emailInput').value = '';
            }
        }

        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Mobile menu functionality
        document.getElementById('mobile-menu-button').addEventListener('click', () => {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', () => {
            renderProducts();
            
            // Close modal when clicking outside
            document.getElementById('productModal').addEventListener('click', (e) => {
                if (e.target.id === 'productModal') {
                    closeModal();
                }
            });
            
            // Close cart when clicking outside
            document.addEventListener('click', (e) => {
                const cartSidebar = document.getElementById('cartSidebar');
                const cartButton = e.target.closest('[onclick*="toggleCart"]');
                
                if (!cartSidebar.contains(e.target) && !cartButton && cartSidebar.classList.contains('cart-open')) {
                    toggleCart();
                }
            });
        });
    </script>
</body>
</html>
